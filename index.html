<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LucrativeClix Coin â€” LCC Faucet</title>

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Ethers v6 -->
<script src="https://cdn.jsdelivr.net/npm/ethers@6.8.3/dist/ethers.min.js"></script>

<!-- WalletConnect v2 -->
<script type="module">
  import EthereumProvider from "https://unpkg.com/@walletconnect/ethereum-provider/dist/index.min.js";
  window.EthereumProvider = EthereumProvider;
</script>

<!-- reCAPTCHA (disable in dev if needed) -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow-x:hidden;
  font-family: 'Poppins', sans-serif;
  background:
    radial-gradient(circle at 20% 20%, #6a00ff, transparent 40%),
    radial-gradient(circle at 80% 30%, #ff2fd1, transparent 45%),
    radial-gradient(circle at 50% 80%, #00e5ff, transparent 40%),
    #02010a;
  color:white;
}

/* Stars */
#stars{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}
.star{
  position:absolute;
  width:2px;
  height:2px;
  background:white;
  opacity:.8;
  border-radius:50%;
  animation:twinkle 3s infinite ease-in-out;
}
@keyframes twinkle{
  0%,100%{opacity:.8}
  50%{opacity:.2}
}

.glow{
  text-shadow:0 0 15px #b300ff,0 0 30px #ff2fd1;
}

.card{
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(14px);
  border-radius:24px;
}
</style>
</head>

<body>

<div id="stars"></div>

<header class="text-center py-16 relative z-10">
  <h1 class="text-5xl font-extrabold glow">ğŸŒŒ LucrativeClix Coin</h1>
  <p class="mt-4 text-lg text-gray-200">Claim free LCC every 12 hours â€” Sepolia</p>
</header>

<section class="flex justify-center px-4 relative z-10">
  <div class="card p-8 max-w-lg w-full shadow-2xl">

    <button id="mmBtn" class="w-full bg-purple-600 py-3 rounded-xl font-bold mb-3 hover:scale-105 transition">
      ğŸ¦Š Connect MetaMask
    </button>

    <button id="wcBtn" class="w-full bg-indigo-600 py-3 rounded-xl font-bold mb-4 hover:scale-105 transition">
      ğŸ”— WalletConnect
    </button>

    <!-- reCAPTCHA -->
    <div id="captchaBox" class="mb-4">
      <div class="g-recaptcha" data-sitekey="6LeleSosAAAAAFrgl4nMa85sOOcJN0EM8P15JfQp"></div>
    </div>

    <button id="claimBtn" disabled class="w-full bg-pink-500 py-3 rounded-xl font-bold hover:scale-105 transition">
      ğŸš€ Claim LCC
    </button>

    <p id="status" class="mt-4 text-center"></p>

    <div id="celebrate" class="hidden mt-6 text-center text-3xl glow">
      âœ¨ CLAIM SUCCESS âœ¨
    </div>
  </div>
</section>

<footer class="text-center py-12 text-gray-400 relative z-10">
  Â© 2025 LucrativeClix Coin
</footer>

<script>
/* Stars */
const stars=document.getElementById("stars");
for(let i=0;i<150;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.top=Math.random()*100+"%";
  s.style.left=Math.random()*100+"%";
  s.style.animationDelay=Math.random()*3+"s";
  stars.appendChild(s);
}

/* ===== CONFIG ===== */
const CHAIN_ID = 11155111; // Sepolia

// âš ï¸ REQUIRED
const FAUCET_ADDRESS = "0x2c51c89b40b354614e77f9f5e75ccb36c1e43c49";
const FAUCET_ABI = [
  "function claim() external",
  "function nextClaim(address) view returns(uint256)"
];

// WalletConnect PROJECT ID (NOT Infura)
const WC_PROJECT_ID = "6e7e3a7f736b30fcd2d054bdfbe17bc6";

/* Toggle reCAPTCHA for testing */
const CAPTCHA_REQUIRED = true;
/* ================== */

let provider, signer, user;

const status=document.getElementById("status");
const claimBtn=document.getElementById("claimBtn");
const celebrate=document.getElementById("celebrate");

if(!CAPTCHA_REQUIRED){
  document.getElementById("captchaBox").style.display="none";
}

/* MetaMask */
mmBtn.onclick=async()=>{
  if(!window.ethereum){
    status.textContent="âŒ MetaMask not installed";
    return;
  }
  provider=new ethers.BrowserProvider(window.ethereum);
  await provider.send("eth_requestAccounts",[]);
  signer=await provider.getSigner();
  user=await signer.getAddress();
  ready("MetaMask connected");
};

/* WalletConnect */
wcBtn.onclick=async()=>{
  const wc=await window.EthereumProvider.init({
    projectId: WC_PROJECT_ID,
    chains:[CHAIN_ID],
    rpcMap:{
      [CHAIN_ID]:"https://sepolia.infura.io/v3/c36e33ca4a8f4828a1517ab6249690b2"
    }
  });
  await wc.enable();
  provider=new ethers.BrowserProvider(wc);
  signer=await provider.getSigner();
  user=await signer.getAddress();
  ready("WalletConnect connected");
};

function ready(msg){
  status.textContent=`âœ… ${msg}: ${user}`;
  claimBtn.disabled=false;
}

/* Claim */
claimBtn.onclick=async()=>{
  if(CAPTCHA_REQUIRED && grecaptcha.getResponse().length===0){
    status.textContent="âš ï¸ Complete reCAPTCHA";
    return;
  }
  try{
    status.textContent="â³ Claiming...";
    const c=new ethers.Contract(FAUCET_ADDRESS,FAUCET_ABI,signer);
    const tx=await c.claim();
    await tx.wait();
    celebrate.classList.remove("hidden");
    status.textContent="ğŸ‰ LCC claimed!";
  }catch(e){
    status.textContent="âŒ Cooldown active or faucet empty";
  }
};
</script>

</body>
  </html>
